<html>
  <head><title>WatchDog Options</title></head>
  <script src="dog.js"></script>
  <script type="text/javascript">

  // Saves options to localStorage.
  function save_options() {

    var email_field = document.getElementById("email");
    localStorage["email"] = email_field.value;

    var password_field = document.getElementById("password");
    localStorage["password"] = password_field.value;

    // Update status to let user know options were saved.
    var status = document.getElementById("status");

    status.innerHTML = '<div style="color:#FF8700">Options Saved</div>';
    setTimeout(function() {
      status.innerHTML = "";
    }, 2000);

    //get background.html and make the dog object run
    var background = chrome.extension.getBackgroundPage();
    background.dog.run();
  }

  // Restores select box state to saved value from localStorage.
  function restore_options() {
    var email = localStorage["email"];
    var password = localStorage["password"];

    if (email) {
      var email_field = document.getElementById("email");
      email_field.value = email;
    }

    if (password) {
      var password_field = document.getElementById("password");
      password_field.value = password;
    }
  }

  </script>

  <body onload="restore_options()">

    <div id="status"></div>
    <br />

    Email:
    <input id="email" type="text" name="email" size="25">
    <br />

    Password:
    <input id="password" type="password" name="password" size="25">
    <br />

    <button onclick="save_options()">Save</button>
  </body>
</html>
